{"version":3,"sources":["webpack:///src/components/director/briefing-management.vue","webpack:///./src/components/director/briefing-management.vue?d7ca","webpack:///./src/components/director/briefing-management.vue","webpack:///src/components/personnel/briefing-management.vue","webpack:///./src/components/personnel/briefing-management.vue?4e37","webpack:///./src/components/personnel/briefing-management.vue"],"names":["director_briefing_management","data","components","BriefingManager","computed","mounted","beforeMount","this","$store","commit","destroyed","methods","components_director_briefing_management","render","_h","$createElement","_c","_self","staticClass","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","_this","quarterTitle","name","state","deptId","list","modifyList","noModify","page","size","current","showModifyPanel","operationObj","columnTitle","title","type","width","row","format","$options","filters","getValueById","department","getBriefingTime","score","sort","console","log","getBriefingScore","callback","scoreRule","AttTabSearch","attendance_table_search","Crumbs","crumbs_com","AttendanceTable","attendance_table","beforeCreate","_this2","role","common","user","详情","修改","utils","clone","itemList","rs","length","start","end","slice","basic","quarterId","$delete","getData","_this3","$http","post","then","total","currentChange","pageNo","modifyAttendance","_this4","update","msg","message","newObj","forEach","item","index","uid","$message","sizeChange","addItem","push","evaluateTxt","evaluateScore","evaluateDate","deleteItem","splice","onSearch","filter","_this5","dept","id","matchList","indexOf","personnel_briefing_management","_vm","on","_v","attrs","search","visible","update:visible","$event","_s","_f","staticStyle","prop","label","scopedSlots","_u","key","fn","scope","disabled","model","value","$index","$$v","$set","expression","placeholder","_e","click","slot","briefing_management"],"mappings":"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","file":"static/js/7.ed4f50ebbc8afc376195.js","sourcesContent":["<!-- 考勤管理页面 -->\n<style lang='less' scoped>\n  .director-behavior {\n    min-height: 100%;\n    background-color: @backGroundColor;\n  }\n</style>\n<template>\n  <div class=\"director-behavior\">\n    <BriefingManager></BriefingManager>\n  </div>\n</template>\n\n<script>\nimport BriefingManager from '@/components/personnel/briefing-management'\n\nexport default {\n  data () {\n    return {\n\n    }\n  },\n\n  components: {\n    BriefingManager\n  },\n\n  computed: {},\n\n  mounted () { },\n  beforeMount () {\n    this.$store.commit('HIDEN_BEHAVIOR_BTN')\n  },\n  destroyed () {\n    this.$store.commit('SHOW_BEHAVIOR_BTN')\n  },\n  methods: {}\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/director/briefing-management.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"director-behavior\"},[_c('BriefingManager')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-2e5469f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/director/briefing-management.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e5469f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/liqingshan/git  web  project/performance/per-white/src/assets/style/variable.less\\\"]}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./briefing-management.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./briefing-management.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./briefing-management.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e5469f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./briefing-management.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e5469f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/director/briefing-management.vue\n// module id = null\n// module chunks = ","<!-- 行政管理页面 -->\n<style lang='less' scoped>\n  .attendance-wrap {\n    min-height: 100%;\n    background-color: @backGroundColor;\n    .attendance-table {\n      margin-top: 16px;\n    }\n    .add {\n      text-align: center;\n      line-height: 35px;\n      width: 80px;\n      margin: 0 auto;\n      cursor: pointer;\n    }\n  }\n</style>\n<template>\n  <div class='attendance-wrap attendance-tab-title-wrap'>\n    <crumbs @callback=\"getData\"></crumbs>\n    <div class=\"attendance-search-table prl\">\n      <att-tab-search :deptId=\"deptId\"\n                      :quarterTitle=\"quarterTitle\"\n                      @search=\"onSearch\"></att-tab-search>\n      <div class=\"attendance-table\">\n        <attendance-table :columnTitle=\"columnTitle\"\n                          :data=\"data\"\n                          :page=\"page\"\n                          @sizeChange=\"sizeChange\"\n                          @currentChange=\"currentChange\">\n        </attendance-table>\n      </div>\n    </div>\n    <div class=\"attendance-dialog\">\n      <el-dialog title=\"修改简报\" :visible.sync=\"showModifyPanel\" width=\"70%\">\n        <div>\n          <p>{{modifyList[0].name}} - {{+modifyList[0].deptId | getValueById(department,'id','name')}}</p>\n          <el-table :data=\"itemList\"\n                    style=\"width: 100%\">\n            <el-table-column prop=\"date\"\n                             label=\"内容\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"modifyList[0].score.data['5']['1000'][scope.$index]['evaluateTxt']\"\n                          :disabled=\"noModify\"></el-input>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"name\" width=\"260\"\n                             label=\"简报时间\">\n              <template slot-scope=\"scope\">\n                <el-date-picker\n                  :disabled=\"noModify\"\n                  v-model=\"modifyList[0].score.data['5']['1000'][scope.$index]['evaluateDate']\"\n                  type=\"date\"\n                  placeholder=\"选择日期\">\n                </el-date-picker>\n              </template>\n            </el-table-column>\n            <el-table-column width=\"120\" label=\"分数\">\n              <template slot-scope=\"scope\">\n                <el-input-number v-model=\"modifyList[0].score.data['5']['1000'][scope.$index]['evaluateScore']\"\n                                 :disabled=\"noModify\"></el-input-number>\n              </template>\n            </el-table-column>\n            <el-table-column width=\"120\" label=\"操作\" v-if=\"!noModify\">\n              <template slot-scope=\"scope\">\n                <el-button @click=\"deleteItem(scope.$index)\"\n                           type=\"text\"\n                           size=\"small\">删除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <div v-if=\"!noModify\" class=\"add main-color\" @click=\"addItem\">+ 添加</div>\n        </div>\n        <div slot=\"footer\">\n          <template v-if=\"noModify\">\n            <el-button @click=\"showModifyPanel = false\"\n                       size=\"medium\">关 闭\n            </el-button>\n          </template>\n          <template v-else>\n            <el-button type=\"primary\"\n                       size=\"medium\"\n                       @click=\"modifyAttendance\">保存\n            </el-button>\n            <el-button @click=\"showModifyPanel = false\"\n                       size=\"medium\">取 消\n            </el-button>\n          </template>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AttTabSearch from '@/components/com/attendance-table-search'\nimport Crumbs from '@/components/com/crumbs-com'\nimport AttendanceTable from '@/components/com/attendance-table'\nimport util from '../../assets/js/utils'\n\nexport default {\n  data () {\n    return {\n      // addType: '添加行政记录',\n      quarterTitle: {\n        name: '姓名',\n        state: '部门'\n      },\n      deptId: 1001,\n      list: [],\n      modifyList: [{name: ''}],\n      noModify: true,\n      page: {\n        size: 10,\n        current: 1\n      },\n      showModifyPanel: false,\n      operationObj: {},\n      columnTitle: [\n        {\n          title: '序号',\n          type: 'index',\n          width: 50\n        },\n        {\n          title: '姓名',\n          row: 'name',\n          width: 120\n        },\n        {\n          title: '部门',\n          format: row => {\n            return this.$options.filters.getValueById(\n              +row.deptId,\n              this.department,\n              'id',\n              'name'\n            )\n          },\n          width: 140\n        },\n        {\n          title: '职位',\n          row: 'workDuty'\n        },\n        {\n          title: '简报次数',\n          format: row => {\n            return this.$options.filters.getBriefingTime(row.score.data['5']['1000'])\n          },\n          sort: row => {\n            console.log(row)\n          },\n          width: 120\n        },\n        {\n          title: '分数',\n          format: row => {\n            return this.$options.filters.getBriefingScore(row.score.data['5']['1000'])\n          },\n          sort: row => {\n            console.log(row)\n          },\n          width: 120\n        },\n        {\n          title: '操作',\n          type: 'operation',\n          callback: this.operationObj,\n          width: 100\n        }\n      ],\n      scoreRule: {}\n    }\n  },\n  components: {\n    AttTabSearch,\n    Crumbs,\n    AttendanceTable\n  },\n  beforeCreate () {\n    let role = this.$store.state.common.user.role\n    if (role === 1 || role === 2) {\n      this.operationObj = {\n        '详情': row => {\n          this.showModifyPanel = true\n          this.modifyList = [row]\n        }\n      }\n    } else if (role === 4) {\n      this.operationObj = {\n        '修改': (row) => {\n          let data = util.clone(row)\n          this.showModifyPanel = true\n          this.modifyList = [data]\n        }\n      }\n    }\n  },\n  computed: {\n    itemList () {\n      let rs = []\n      if (this.modifyList.length && this.modifyList[0].score) {\n        rs = this.modifyList[0].score.data['5']['1000']\n      }\n      return rs\n    },\n    data () {\n      let start = (this.page.current - 1) * this.page.size\n      let end = this.page.current * this.page.size\n      return this.list.slice(start, end)\n    },\n    department () {\n      return this.$store.state.basic.department\n    },\n    quarterId () {\n      return this.$store.state.common.quarterId\n    }\n  },\n  mounted () {\n    this.noModify = this.$store.state.common.user.role !== 4\n    if (this.$store.state.common.user.role === 1 || this.$store.state.common.user.role === 2) {\n      this.$delete(this.columnTitle, this.columnTitle.length - 1)\n    }\n  },\n  methods: {\n    getData () {\n      let data = {\n        quarterId: this.quarterId,\n        deptId: this.deptId\n      }\n      this.$http.post('/attendance/query', data).then(rs => {\n        this.list = rs\n        this.page.total = rs.length\n      })\n    },\n    currentChange (pageNo) {\n      this.page.current = pageNo\n    },\n    modifyAttendance () {\n      let data = {\n        quarterId: this.quarterId,\n        update: this.modifyList\n      }\n      this.$http.post('/attendance/update', data).then((rs) => {\n        let msg = {\n          message: '修改成功',\n          type: 'success'\n        }\n        if (typeof rs === 'number') {\n          let newObj = this.modifyList[0]\n          this.list.forEach((item, index) => {\n            if (item.uid === newObj.uid) {\n              item.score.data['5']['1000'] = newObj.score.data['5']['1000']\n            }\n          })\n        } else {\n          msg = {\n            message: '修改失败',\n            type: 'error'\n          }\n        }\n        this.$message(msg)\n        this.showModifyPanel = false\n      })\n    },\n    sizeChange (size) {\n      this.page.size = size\n    },\n    addItem () {\n      this.modifyList[0].score.data['5']['1000'].push({\n        evaluateTxt: '',\n        evaluateScore: 0,\n        evaluateDate: ''\n      })\n    },\n    deleteItem (index) {\n      this.modifyList[0].score.data['5']['1000'].splice(index, 1)\n    },\n    onSearch (filter) {\n      // console.log(filter)\n      let data = {\n        quarterId: this.quarterId,\n        deptId: filter.dept.id\n      }\n      this.$http.post('/attendance/query', data).then((rs) => {\n        let matchList = []\n        rs.forEach((item) => {\n          if (item.name.indexOf(filter.name) > -1) {\n            matchList.push(item)\n          }\n        })\n        this.list = matchList\n        this.page.total = matchList.length\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/personnel/briefing-management.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attendance-wrap attendance-tab-title-wrap\"},[_c('crumbs',{on:{\"callback\":_vm.getData}}),_vm._v(\" \"),_c('div',{staticClass:\"attendance-search-table prl\"},[_c('att-tab-search',{attrs:{\"deptId\":_vm.deptId,\"quarterTitle\":_vm.quarterTitle},on:{\"search\":_vm.onSearch}}),_vm._v(\" \"),_c('div',{staticClass:\"attendance-table\"},[_c('attendance-table',{attrs:{\"columnTitle\":_vm.columnTitle,\"data\":_vm.data,\"page\":_vm.page},on:{\"sizeChange\":_vm.sizeChange,\"currentChange\":_vm.currentChange}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"attendance-dialog\"},[_c('el-dialog',{attrs:{\"title\":\"修改简报\",\"visible\":_vm.showModifyPanel,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.showModifyPanel=$event}}},[_c('div',[_c('p',[_vm._v(_vm._s(_vm.modifyList[0].name)+\" - \"+_vm._s(_vm._f(\"getValueById\")(+_vm.modifyList[0].deptId,_vm.department,'id','name')))]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.itemList}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"内容\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"disabled\":_vm.noModify},model:{value:(_vm.modifyList[0].score.data['5']['1000'][scope.$index]['evaluateTxt']),callback:function ($$v) {_vm.$set(_vm.modifyList[0].score.data['5']['1000'][scope.$index], 'evaluateTxt', $$v)},expression:\"modifyList[0].score.data['5']['1000'][scope.$index]['evaluateTxt']\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"width\":\"260\",\"label\":\"简报时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-date-picker',{attrs:{\"disabled\":_vm.noModify,\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.modifyList[0].score.data['5']['1000'][scope.$index]['evaluateDate']),callback:function ($$v) {_vm.$set(_vm.modifyList[0].score.data['5']['1000'][scope.$index], 'evaluateDate', $$v)},expression:\"modifyList[0].score.data['5']['1000'][scope.$index]['evaluateDate']\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120\",\"label\":\"分数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input-number',{attrs:{\"disabled\":_vm.noModify},model:{value:(_vm.modifyList[0].score.data['5']['1000'][scope.$index]['evaluateScore']),callback:function ($$v) {_vm.$set(_vm.modifyList[0].score.data['5']['1000'][scope.$index], 'evaluateScore', $$v)},expression:\"modifyList[0].score.data['5']['1000'][scope.$index]['evaluateScore']\"}})]}}])}),_vm._v(\" \"),(!_vm.noModify)?_c('el-table-column',{attrs:{\"width\":\"120\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteItem(scope.$index)}}},[_vm._v(\"删除\\n              \")])]}}])}):_vm._e()],1),_vm._v(\" \"),(!_vm.noModify)?_c('div',{staticClass:\"add main-color\",on:{\"click\":_vm.addItem}},[_vm._v(\"+ 添加\")]):_vm._e()],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.noModify)?[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.showModifyPanel = false}}},[_vm._v(\"关 闭\\n          \")])]:[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.modifyAttendance}},[_vm._v(\"保存\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.showModifyPanel = false}}},[_vm._v(\"取 消\\n          \")])]],2)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-2da5bea5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/personnel/briefing-management.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2da5bea5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/liqingshan/git  web  project/performance/per-white/src/assets/style/variable.less\\\"]}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./briefing-management.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./briefing-management.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./briefing-management.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2da5bea5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./briefing-management.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2da5bea5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/personnel/briefing-management.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}