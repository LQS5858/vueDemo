{"version":3,"sources":["webpack:///src/components/director/bonus-setting.vue","webpack:///./src/components/director/bonus-setting.vue?1ebd","webpack:///./src/components/director/bonus-setting.vue"],"names":["bonus_setting","data","bonus","quarterId","this","$store","state","common","totalBonus","computed","options","basic","quarter","department","methods","cacel","$router","push","getData","_this","user","$utils","getLocalUser","$http","post","uid","then","rs","submit","_this2","ok","msg","i","l","length","accounting","$options","filters","getValueById","deptId","ratA","ratB","ratC","ratD","ratE","ratF","staffNumber","$message","message","type","components","crumbs","mounted","_this3","$watch","director_bonus_setting","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","showQuarter","_v","_m","model","value","callback","$$v","$set","expression","_l","item","key","id","label","name","staticStyle","width","placeholder","fixed","scopedSlots","_u","fn","scope","_s","_f","row","prop","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.0763d35ccdf1352e02e6.js","sourcesContent":["<style lang=\"less\" scoped>\n  .bonus-setting {\n    // margin: 10px;\n    background-color: @backGroundColor;\n    .basic-set-wrap {\n      height: 32px;\n      background: #f1f1f5;\n      display: flex;\n      align-items: center;\n      .dept-peformance {\n        font-family: PingFangSC-Regular;\n        font-size: 12px;\n        color: #999999;\n        line-height: 14px;\n        padding-left: 15px;\n        li {\n          display: inline-block;\n        }\n      }\n      p {\n        line-height: 32px;\n        margin-left: 12px;\n      }\n    }\n    .setting-title {\n      font-size: 16px;\n      font-weight: bold;\n    }\n    .setting-content {\n      margin-top: 13px;\n      .btn-cancel {\n        display: flex;\n        justify-content: center;\n        margin: 40px 0;\n      }\n      .setting-unit {\n        display: inline-block;\n        margin: 0 8px 16px 0;\n        .setting-name {\n          font-size: 12px;\n          margin: 0 20px 6px 0;\n        }\n        .el-input {\n          width: auto;\n        }\n        .reward-unit {\n          font-size: 1px;\n        }\n      }\n    }\n  }\n\n  .department-settings {\n    // margin: 10px;\n    .setting-title {\n      font-size: 16px;\n      font-weight: bold;\n    }\n    .setting-content {\n      margin-top: 12px;\n      .table-container {\n        display: flex;\n        width: 100%;\n        justify-content: center;\n        .i-input {\n          display: flex;\n          align-items: center;\n          i {\n            font-family: PingFangSC-Regular;\n            font-size: 12px;\n            color: #ff5555;\n            margin-right: 4px;\n          }\n        }\n        .table-column {\n          flex: 0 1 auto;\n          width: 100%;\n          .table-title {\n            font-size: 14px;\n            height: 30px;\n            line-height: 30px;\n            background: #f5f5f8;\n            text-align: center;\n            border-bottom: 1px solid #e4e4e4;\n          }\n          .table-content {\n            height: 60px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-bottom: 1px solid #e4e4e4;\n            .el-input {\n              max-width: 80%;\n            }\n            span {\n              display: inline-block;\n              width: 100%;\n              height: 100%;\n              font-size: 14px;\n              line-height: 60px;\n              text-align: center;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n<style lang=\"less\">\n  .bonus-setting {\n    .el-button--primary {\n      background: #7352BF;\n      border-radius: 4px;\n    }\n    .sub-container {\n      border-top: 80px solid #f2f2f2;\n      border-bottom: 0;\n    }\n    .el-row {\n      margin-top: 20px;\n      .el-button {\n        padding: 8px 13px;\n      }\n    }\n  }\n\n  .setting-content {\n    .el-input__inner {\n      font-family: ArialMT;\n      font-size: 12px;\n      color: #333333;\n      line-height: 14px;\n      height: 32px;\n      background: #ffffff;\n      border: 1px solid #dcdae2;\n      border-radius: 4px;\n    }\n  }\n\n  .table-container {\n    .el-table th {\n      padding: 9px 0;\n    }\n    .el-table td {\n      padding: 7.5px 0;\n    }\n  }\n</style>\n<template>\n  <div class=\"container bonus-setting\">\n    <crumbs class=\"top-nav\" :showQuarter=\"false\"></crumbs>\n    <div class=\"sub-container\">\n      <div class=\"table-part-container\">\n        <div class=\"basic-settings\">\n          <div class=\"setting-title basic-set-wrap mt\">\n            <p>基础设置</p>\n          </div>\n          <div class=\"setting-content\">\n            <div class=\"setting-unit\">\n              <div class=\"setting-name\">考核季度</div>\n              <template>\n                <el-select v-model=\"bonus.quarterId\">\n                  <el-option v-for=\"item in options\"\n                             :key=\"item.id\"\n                             :label=\"item.name\"\n                             :value=\"item.id\">\n                  </el-option>\n                </el-select>\n              </template>\n            </div>\n            <div class=\"setting-unit\">\n              <div class=\"setting-name\">季度奖金(万元)</div>\n              <el-input-number style=\"width: 156px;\" v-model=\"bonus.totalBonus\"\n                               placeholder=\"请输入内容\"></el-input-number>\n              <span class=\"reward-unit\">万元</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"department-settings\">\n          <div class=\"basic-set-wrap\">\n            <p class=\"setting-title\">部门设置</p>\n            <div class=\"dept-peformance\">\n              <li>(绩效等级占比规则:</li>\n              <li>A 50%</li>\n              <li>B 50%</li>\n              <li>C 0%</li>\n              <li>D 0%)</li>\n            </div>\n          </div>\n          <div class=\"setting-content\">\n            <div class=\"table-container\">\n              <el-table :data=\"bonus.data\"\n                        style=\"width: 100%\">\n                <el-table-column label=\"考核对象\" fixed>\n                  <template slot-scope=\"scope\">\n                    {{+scope.row.deptId | getValueById(department, 'id', 'name')}}\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"staffNumber\" label=\"考核人数\" fixed></el-table-column>\n                <el-table-column prop=\"probation\" label=\"试用期人数\" fixed></el-table-column>\n                <el-table-column label=\"奖金占比\" width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <span class=\"i-input\">\n                      <i>*</i>\n                      <el-input-number v-model=\"scope.row.accounting\"/>\n                    </span>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"绩效A人数\" width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <span class=\"i-input\">\n                      <i>*</i>\n                      <el-input-number v-model=\"scope.row.ratA\"/>\n                    </span>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"绩效B人数\" width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <span class=\"i-input\">\n                      <i>*</i>\n                      <el-input-number v-model=\"scope.row.ratB\"/>\n                    </span>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"绩效C人数\" width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <span class=\"i-input\">\n                      <i>*</i>\n                      <el-input-number v-model=\"scope.row.ratC\"/>\n                    </span>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"绩效D人数\"\n                                 width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <span class=\"i-input\">\n                      <i>*</i>\n                      <el-input-number v-model=\"scope.row.ratD\"/>\n                    </span>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"绩效E人数\"\n                                 width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <span class=\"i-input\">\n                      <i>*</i>\n                      <el-input-number v-model=\"scope.row.ratE\"/>\n                    </span>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"绩效F人数\"\n                                 width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <span class=\"i-input\">\n                      <i>*</i>\n                      <el-input-number v-model=\"scope.row.ratF\"/>\n                    </span>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"奖金额度(万元)\" width=\"150\" fixed=\"right\">\n                  <template slot-scope=\"scope\">\n                    <span class=\"i-input\">\n                      <i>*</i>\n                      <el-input-number v-model=\"scope.row.ratM\"/>\n                    </span>\n                  </template>\n                </el-table-column>\n              </el-table>\n            </div>\n            <div class=\"btn-cancel\">\n              <el-row>\n                <el-button type=\"primary\"\n                           @click=\"submit\">确定\n                </el-button>\n                <el-button @click=\"cacel\">取消</el-button>\n              </el-row>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport crumbs from '@/components/com/crumbs-com'\n\nexport default {\n  data () {\n    return {\n      bonus: {\n        quarterId: this.$store.state.common.quarterId,\n        totalBonus: '',\n        data: []\n      }\n    }\n  },\n  computed: {\n    options () {\n      return this.$store.state.basic.quarter\n    },\n    department () {\n      return this.$store.state.basic.department\n    }\n  },\n  methods: {\n    cacel () {\n      this.$router.push('review-quarterly')\n    },\n    getData () {\n      let user = this.$utils.getLocalUser()\n      this.$http\n        .post('/bonus/query', {quarterId: this.bonus.quarterId, uid: user.uid})\n        .then(rs => {\n          this.bonus.data = rs.data\n          this.bonus.totalBonus = rs.totalBonus\n        })\n    },\n    submit () {\n      let ok = true\n      let msg = ''\n      for (let i = 0, l = this.bonus.data.length; i < l; i++) {\n        let bonus = this.bonus.data[i]\n        if (bonus.accounting < 0 || bonus.accounting > 100) {\n          ok = false\n          msg = this.$options.filters.getValueById(bonus.deptId, this.department, 'id', 'name') + '奖金占比超出范围'\n          break\n        }\n        if (bonus.ratA + bonus.ratB + bonus.ratC + bonus.ratD + bonus.ratE + bonus.ratF > bonus.staffNumber) {\n          ok = false\n          msg = this.$options.filters.getValueById(bonus.deptId, this.department, 'id', 'name') + '的绩效人数超出该部门总人数'\n          break\n        }\n      }\n      if (ok) {\n        this.$http.post('/bonus/update', this.bonus).then(rs => {\n          this.$message({\n            message: rs ? '修改成功' : '修改失败,请稍后再试',\n            type: rs ? 'success' : 'warning'\n          })\n        })\n      } else {\n        this.$message({\n          message: msg,\n          type: 'warning'\n        })\n      }\n    }\n  },\n  components: {\n    crumbs: crumbs\n  },\n  mounted () {\n    this.getData()\n    this.$watch('bonus.quarterId', () => {\n      this.getData()\n    })\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/director/bonus-setting.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container bonus-setting\"},[_c('crumbs',{staticClass:\"top-nav\",attrs:{\"showQuarter\":false}}),_vm._v(\" \"),_c('div',{staticClass:\"sub-container\"},[_c('div',{staticClass:\"table-part-container\"},[_c('div',{staticClass:\"basic-settings\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"setting-content\"},[_c('div',{staticClass:\"setting-unit\"},[_c('div',{staticClass:\"setting-name\"},[_vm._v(\"考核季度\")]),_vm._v(\" \"),[_c('el-select',{model:{value:(_vm.bonus.quarterId),callback:function ($$v) {_vm.$set(_vm.bonus, \"quarterId\", $$v)},expression:\"bonus.quarterId\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))]],2),_vm._v(\" \"),_c('div',{staticClass:\"setting-unit\"},[_c('div',{staticClass:\"setting-name\"},[_vm._v(\"季度奖金(万元)\")]),_vm._v(\" \"),_c('el-input-number',{staticStyle:{\"width\":\"156px\"},attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.bonus.totalBonus),callback:function ($$v) {_vm.$set(_vm.bonus, \"totalBonus\", $$v)},expression:\"bonus.totalBonus\"}}),_vm._v(\" \"),_c('span',{staticClass:\"reward-unit\"},[_vm._v(\"万元\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"department-settings\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"setting-content\"},[_c('div',{staticClass:\"table-container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.bonus.data}},[_c('el-table-column',{attrs:{\"label\":\"考核对象\",\"fixed\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"getValueById\")(+scope.row.deptId,_vm.department, 'id', 'name'))+\"\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"staffNumber\",\"label\":\"考核人数\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"probation\",\"label\":\"试用期人数\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"奖金占比\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"i-input\"},[_c('i',[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input-number',{model:{value:(scope.row.accounting),callback:function ($$v) {_vm.$set(scope.row, \"accounting\", $$v)},expression:\"scope.row.accounting\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"绩效A人数\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"i-input\"},[_c('i',[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input-number',{model:{value:(scope.row.ratA),callback:function ($$v) {_vm.$set(scope.row, \"ratA\", $$v)},expression:\"scope.row.ratA\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"绩效B人数\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"i-input\"},[_c('i',[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input-number',{model:{value:(scope.row.ratB),callback:function ($$v) {_vm.$set(scope.row, \"ratB\", $$v)},expression:\"scope.row.ratB\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"绩效C人数\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"i-input\"},[_c('i',[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input-number',{model:{value:(scope.row.ratC),callback:function ($$v) {_vm.$set(scope.row, \"ratC\", $$v)},expression:\"scope.row.ratC\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"绩效D人数\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"i-input\"},[_c('i',[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input-number',{model:{value:(scope.row.ratD),callback:function ($$v) {_vm.$set(scope.row, \"ratD\", $$v)},expression:\"scope.row.ratD\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"绩效E人数\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"i-input\"},[_c('i',[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input-number',{model:{value:(scope.row.ratE),callback:function ($$v) {_vm.$set(scope.row, \"ratE\", $$v)},expression:\"scope.row.ratE\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"绩效F人数\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"i-input\"},[_c('i',[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input-number',{model:{value:(scope.row.ratF),callback:function ($$v) {_vm.$set(scope.row, \"ratF\", $$v)},expression:\"scope.row.ratF\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"奖金额度(万元)\",\"width\":\"150\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"i-input\"},[_c('i',[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input-number',{model:{value:(scope.row.ratM),callback:function ($$v) {_vm.$set(scope.row, \"ratM\", $$v)},expression:\"scope.row.ratM\"}})],1)]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"btn-cancel\"},[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确定\\n              \")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.cacel}},[_vm._v(\"取消\")])],1)],1)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting-title basic-set-wrap mt\"},[_c('p',[_vm._v(\"基础设置\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basic-set-wrap\"},[_c('p',{staticClass:\"setting-title\"},[_vm._v(\"部门设置\")]),_vm._v(\" \"),_c('div',{staticClass:\"dept-peformance\"},[_c('li',[_vm._v(\"(绩效等级占比规则:\")]),_vm._v(\" \"),_c('li',[_vm._v(\"A 50%\")]),_vm._v(\" \"),_c('li',[_vm._v(\"B 50%\")]),_vm._v(\" \"),_c('li',[_vm._v(\"C 0%\")]),_vm._v(\" \"),_c('li',[_vm._v(\"D 0%)\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-27c59e16\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/director/bonus-setting.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27c59e16\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/liqingshan/git  web  project/performance/per-white/src/assets/style/variable.less\\\"]}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./bonus-setting.vue\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27c59e16\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/liqingshan/git  web  project/performance/per-white/src/assets/style/variable.less\\\"]}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=1!./bonus-setting.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./bonus-setting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./bonus-setting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27c59e16\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./bonus-setting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-27c59e16\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/director/bonus-setting.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}