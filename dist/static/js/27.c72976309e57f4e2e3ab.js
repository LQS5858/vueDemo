webpackJsonp([27],{"/SFD":function(t,s){},T6l1:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("doty"),n=a("MrCD"),i={data:function(){return{rules:{1:{},2:{},3:{},4:{},5:{}},score:{data:{}},contributionColumnTitle:[{title:"内容",row:"name"},{title:"类别",row:"type",width:120},{title:"分数",row:"score",width:120}]}},components:{crumbs:e.a,basicScore:n.a},computed:{quarterId:function(){return this.$store.state.common.quarterId},staffInfo:function(){return this.$store.state.common.user},staff:function(){return this.$store.state.basic.staff},contributionTableData:function(){var t=this,s=this.rules[4].class&&this.rules[4].class[0]?this.rules[4].class[0].options:[],a=[];return(this.score.data[4]?this.score.data[4][2e3]:[]).map(function(e){a.push({name:e.evaluateTxt,type:t.$options.filters.getValueById(e.evaluateId,s,"id","name"),score:e.evaluateScore})}),a},contributionCount:function(){var t=0;return(this.score.data[4]?this.score.data[4][2e3]:[]).forEach(function(s){t+=s.evaluateScore}),t}},beforeMount:function(){this.getRules()},methods:{back:function(){this.$router.go(-1)},getRules:function(){var t=this;this.$http({url:"score/rules"}).then(function(s){t.rules=s})},onChangeQuarter:function(){this.getStaffInfo()},getStaffInfo:function(){var t=this;this.$http({url:"score/staff",data:{quarterId:this.quarterId,staffId:this.staffInfo.uid}}).then(function(s){t.user=s.user,t.score=s.score})}}},r={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container briefing-ratings"},[a("crumbs",{on:{callback:t.onChangeQuarter}},[a("i",{staticClass:"iconfont icon-back",attrs:{slot:"backIcon"},on:{click:t.back},slot:"backIcon"}),t._v(" "),a("template",{slot:"is-select"})],2),t._v(" "),a("div",{staticClass:"sub-container"},[a("div",{staticClass:"table-part-container"},[a("div",{staticClass:"rating-detail"},[a("div",{staticClass:"rating-item"},[t._v("\n          本项为加分项\n        ")]),t._v(" "),a("div",{staticClass:"rating-item"},[t._v("\n          本项加分:\n          "),a("span",{staticClass:"rating-score"},[t._v(t._s(t.contributionCount))])])]),t._v(" "),a("basic-score",{attrs:{tableTitle:t.contributionColumnTitle,tableData:t.contributionTableData}},[a("span",{attrs:{slot:"basic-msg"},slot:"basic-msg"})])],1)])],1)},staticRenderFns:[]};var o=a("Z0/y")(i,r,!1,function(t){a("/SFD")},"data-v-3a769cfb",null);s.default=o.exports}});
//# sourceMappingURL=27.c72976309e57f4e2e3ab.js.map